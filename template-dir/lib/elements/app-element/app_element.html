<!-- import polymer-element's definition -->
<link rel="import" href="../elements.shared.html">

<link rel="import" href="../elements.critical.html">

<polymer-element name="app-element">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <!--url="https://polymer-contacts.firebaseio.com/{{category}}.json"-->
    <core-ajax-dart id="ajax"
               url = "data/{{category}}.json"
               response="{{contacts}}"></core-ajax-dart>

    <core-media-query query="min-width: 640px" queryMatches="{{largeScreen}}">
    </core-media-query>

    <!-- TODO: Hero transition for desktop -->
    <core-animated-pages id="pages" selected="{{selected}}"
                         transitions="cross-fade fade-slide-up fade-scale" fit>

      <section layout vertical>
        <contacts-page class="page" id="contacts" contacts="{{contacts}}" category="{{category}}"
                       cross-fade?="{{largeScreen}}"
                       heading="{{heading}}"
                       flex>
        </contacts-page>
      </section>

      <section layout vertical>
        <info-page class="page" id="info" contacts="{{contacts}}"
                   cross-fade?="{{largeScreen}}"
                   fade-scale?="{{!largeScreen}}"
                   flex>
        </info-page>
      </section>

      <section layout vertical>
        <add-page class="page" id="add" contacts="{{contacts}}"
                  cross-fade?="{{largeScreen}}"
                  fade-slide-up?="{{!largeScreen}}"
                  flex>
        </add-page>
      </section>

    </core-animated-pages>
  </template>
  <script type="application/dart" src="app_element.dart"></script>
</polymer-element>
